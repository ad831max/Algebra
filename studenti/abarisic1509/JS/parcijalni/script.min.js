function init(){function e(){const e=r.value;d.innerHTML="",""!==e.trim()?(a(),setTimeout(()=>{t(e)},500)):o()}async function t(e){try{const t=await fetch(`https://itunes.apple.com/search?term=${e}&entity=song`),o=await t.json(),a=o.results;a&&(c(d),s(u,l),a.length>0?a.forEach(e=>{console.log(e);const t=n(e);d.appendChild(t)}):(s(d,u),c(l),l.textContent="Nema rezultata. Provjerite upisani termin i pokušajte ponovno"))}catch(e){i(),console.log(e)}}function n(e){const t=document.createElement("li"),n=document.createElement("span"),o=document.createElement("img"),i=document.createElement("audio");i.controls=!0;const a=e.trackName,c=e.artistName,s=e.artworkUrl60,r=e.previewUrl;return n.textContent=`${a} - ${c}`,o.src=s,i.src=r,t.appendChild(n),t.appendChild(o),t.appendChild(i),t}function o(){s(d,u),c(l),l.textContent="Za pretraživanje upišite naziv pjesme ili izvođača"}function i(){s(d,u),c(l),l.textContent="Uh-oh, nešto nije dobro, refreshajte stranicu i pokušajte ponovno"}function a(){s(d,l),c(u)}function c(e){console.log(e),e.classList.remove("hidden")}function s(...e){console.log(e),e.forEach(e=>{e.classList.add("hidden")})}const r=document.getElementById("search"),d=document.getElementById("searchResults"),l=document.getElementById("noResults"),u=document.getElementById("loader");r.addEventListener("input",e)}document.addEventListener("DOMContentLoaded",init);