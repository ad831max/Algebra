"use strict";async function searchSongs(){const e=searchTermInput.value.trim();if(""!==e){displayLoader();try{const t=await fetchData(e);hideLoader(),0===t.resultCount?displayMessage("Nema rezultata."):displayResults(t.results)}catch(e){hideLoader(),displayMessage("Došlo je do pogreške tijekom pretraživanja.")}}else displayMessage("Unesite pojam za pretraživanje.")}async function fetchData(e){const t=`https://itunes.apple.com/search?term=${encodeURIComponent(e)}&entity=song`,a=await fetch(t),s=await a.json();return s}function displayResults(e){resultsTable.innerHTML="",e.forEach(e=>{const t=document.createElement("tr"),a=document.createElement("td"),s=document.createElement("td");a.textContent=e.trackName,s.textContent=e.artistName,t.appendChild(a),t.appendChild(s),resultsTable.appendChild(t)})}function displayLoader(){resultsTable.innerHTML="",searchMessage.textContent="Pretraživanje u tijeku..."}function hideLoader(){searchMessage.textContent=""}function displayMessage(e){searchMessage.textContent=e}const searchTermInput=document.getElementById("search-term"),searchButton=document.getElementById("search-btn"),resultsTable=document.getElementById("results-table"),searchMessage=document.getElementById("search-message");searchButton.addEventListener("click",searchSongs),searchTermInput.addEventListener("input",searchSongs);